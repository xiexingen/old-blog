(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{338:function(t,e,i){t.exports=i.p+"assets/img/1-0201.6357e9ad.png"},339:function(t,e,i){t.exports=i.p+"assets/img/1-0301.2e398e7a.png"},340:function(t,e,i){t.exports=i.p+"assets/img/1-0302.18196fe7.png"},341:function(t,e,i){t.exports=i.p+"assets/img/1-0401.f03b1028.png"},342:function(t,e,i){t.exports=i.p+"assets/img/2-0201.d7d14bf9.png"},343:function(t,e,i){t.exports=i.p+"assets/img/2-0401.da8f78c8.png"},344:function(t,e,i){t.exports=i.p+"assets/img/2-0501.80264c21.png"},345:function(t,e,i){t.exports=i.p+"assets/img/3-0101.f069faaa.png"},360:function(t,e,i){"use strict";i.r(e);var s=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("p",[t._v("IdentityServer4-使用密码授权模式\n")]),s("h5",{attrs:{id:"一、identityserver-也叫服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、identityserver-也叫服务端","aria-hidden":"true"}},[t._v("#")]),t._v(" 一、IdentityServer 也叫服务端")]),s("ol",[s("li",[t._v("新建.netcore web项目 设置启动端口为60000 并通过Nuget引用IdentityServer4")]),s("li",[t._v("添加ApiResource和Client(此处方便测试固定了一些数据)\n"),s("img",{attrs:{src:i(338),alt:""}})]),s("li",[t._v("使用IdentityServer\n"),s("img",{attrs:{src:i(339),alt:""}}),s("img",{attrs:{src:i(340),alt:""}})]),s("li",[t._v("启动项目 http://localhost:60000/.well-known/openid-configuration 可以看到相关json数据\n"),s("img",{attrs:{src:i(341),alt:""}})])]),s("h5",{attrs:{id:"二、api端-与clientcredentials模式完全一致"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、api端-与clientcredentials模式完全一致","aria-hidden":"true"}},[t._v("#")]),t._v(" 二、Api端 (与clientCredentials模式完全一致)")]),s("ol",[s("li",[t._v("新建.netcore web项目 设置启动端口为60001\n通过Nuget引用IdentityServer4.AccessTokenValidation 此处只需要验证所以不需要引用IdentityServer4")]),s("li",[t._v("配置\n"),s("img",{attrs:{src:i(342),alt:""}})]),s("li",[t._v("在controller上贴上属性[Authorize] 表示只允许登录用户访问")]),s("li",[t._v("通过postman获取token(注意请求body中的参数)\n"),s("img",{attrs:{src:i(343),alt:""}})]),s("li",[t._v("请求需要登录的api 此处为api/values\n"),s("img",{attrs:{src:i(344),alt:""}})])]),s("h5",{attrs:{id:"三、client-客户端也叫thirpart【选修】"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、client-客户端也叫thirpart【选修】","aria-hidden":"true"}},[t._v("#")]),t._v(" 三、client 客户端也叫ThirPart【选修】")]),s("blockquote",[s("p",[t._v("定义一个控制台程序 访问api获取数据")])]),s("ol",[s("li",[t._v("创建.net core控制台程序 通过Nuget引用包IdentityModel\n"),s("img",{attrs:{src:i(345),alt:""}})])])])}],n=i(1),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},s,!1,null,null,null);r.options.__file="02passport.md";e.default=r.exports}}]);