<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git常用命令(笔记) · XXG&#39;s Blog · 爱代码爱生活！</title>
    <meta name="description" content="谢新根的博客。不乱于心 不困于情 不畏将来 不念过去 如此 甚好！">
    <link rel="shortcut icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3F51B5">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/192.png">
  <meta name="msapplication-TileImage" content="/icons/192.png">
  <meta name="msapplication-TileColor" content="#3F51B5">
    
    <link rel="preload" href="/assets/css/styles.477bb533.css" as="style"><link rel="preload" href="/assets/js/app.477bb533.js" as="script"><link rel="preload" href="/assets/css/styles.477bb533.css" as="style"><link rel="preload" href="/assets/js/31.c26ea531.js" as="script"><link rel="prefetch" href="/assets/js/1.6b8a6239.js"><link rel="prefetch" href="/assets/js/2.ebb407ec.js"><link rel="prefetch" href="/assets/js/3.159c8b32.js"><link rel="prefetch" href="/assets/js/4.70170ff7.js"><link rel="prefetch" href="/assets/js/5.701cd3a1.js"><link rel="prefetch" href="/assets/js/6.e208fcef.js"><link rel="prefetch" href="/assets/js/7.273407ac.js"><link rel="prefetch" href="/assets/js/8.ed2e22fd.js"><link rel="prefetch" href="/assets/js/9.1abeb8a0.js"><link rel="prefetch" href="/assets/js/10.2350f157.js"><link rel="prefetch" href="/assets/js/11.3aec1825.js"><link rel="prefetch" href="/assets/js/12.981b53f5.js"><link rel="prefetch" href="/assets/js/13.dbb16631.js"><link rel="prefetch" href="/assets/js/14.db084348.js"><link rel="prefetch" href="/assets/js/15.d7a1852b.js"><link rel="prefetch" href="/assets/js/16.d90ec796.js"><link rel="prefetch" href="/assets/js/17.820c843d.js"><link rel="prefetch" href="/assets/js/18.af694191.js"><link rel="prefetch" href="/assets/js/19.798c04a0.js"><link rel="prefetch" href="/assets/js/20.ba0f7bd1.js"><link rel="prefetch" href="/assets/js/21.3bdc273c.js"><link rel="prefetch" href="/assets/js/22.f036eba0.js"><link rel="prefetch" href="/assets/js/23.6ef2a2de.js"><link rel="prefetch" href="/assets/js/24.d04d89e8.js"><link rel="prefetch" href="/assets/js/25.bb45534c.js"><link rel="prefetch" href="/assets/js/26.f6b1cc85.js"><link rel="prefetch" href="/assets/js/27.e96ac102.js"><link rel="prefetch" href="/assets/js/28.5bb5e688.js"><link rel="prefetch" href="/assets/js/29.f2d9a00e.js"><link rel="prefetch" href="/assets/js/30.3f4e5a42.js"><link rel="prefetch" href="/assets/js/32.2e16d392.js"><link rel="prefetch" href="/assets/js/33.e2a466e7.js"><link rel="prefetch" href="/assets/js/34.9ba3e0d7.js"><link rel="prefetch" href="/assets/js/35.561d57c3.js"><link rel="prefetch" href="/assets/js/36.49c28cf7.js"><link rel="prefetch" href="/assets/js/37.1f3951dd.js">
    <link rel="stylesheet" href="/assets/css/styles.477bb533.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-app="true" id="app" class="application theme--light"><div class="application--wrap"><div class="v-progress-linear blog-progress" style="height:3px;display:none;"><div class="v-progress-linear__background accent" style="height:3px;opacity:0.4;width:100%;"></div><div class="v-progress-linear__bar"><!----><div class="v-progress-linear__bar__determinate accent" style="width:0%;"></div></div></div><aside class="v-navigation-drawer v-navigation-drawer--close v-navigation-drawer--fixed v-navigation-drawer--is-mobile theme--light" style="height:100%;margin-top:0px;max-height:calc(100% - 0px);transform:translateX(-240px);width:240px;"><div><div class="aside-brand-wrap"><div class="aside-brand"><a href="/" class="aside-avatar elevation-2 router-link-active"><img src="/face.jpg" alt="avatar"></a><hgroup class="mt-3 variant-hide"><div class="subheading white--text">谢新根</div><a href="mailto:1002275364@qq.com" title="1002275364@qq.com" class="aside-mail primary--text text--lighten-5">1002275364@qq.com</a></hgroup></div></div><hr class="v-divider theme--dark"><div class="v-list nav-list theme--light"><div class="secondary--text"><a href="/" class="v-list__tile v-list__tile--link theme--light"><div class="v-list__tile__avatar"><div class="v-avatar" style="height:40px;width:40px;"><i class="fa fa-home"></i></div></div><div class="v-list__tile__content">首页</div></a></div><div class="secondary--text"><a href="/tags" class="v-list__tile v-list__tile--link theme--light"><div class="v-list__tile__avatar"><div class="v-avatar" style="height:40px;width:40px;"><i class="fa fa-tag"></i></div></div><div class="v-list__tile__content">标签</div></a></div><div class="secondary--text"><a href="https://github.com/xiexingen" target="_blank" class="v-list__tile v-list__tile--link theme--light"><div class="v-list__tile__avatar"><div class="v-avatar" style="height:40px;width:40px;"><i class="fab fa-github"></i></div></div><div class="v-list__tile__content">Github</div></a></div><div class="secondary--text"><a href="/about" class="v-list__tile v-list__tile--link theme--light"><div class="v-list__tile__avatar"><div class="v-avatar" style="height:40px;width:40px;"><i class="fa fa-user-secret"></i></div></div><div class="v-list__tile__content">关于</div></a></div></div></div><div class="v-navigation-drawer__border"></div></aside><nav class="blog-toolbar v-toolbar v-toolbar--fixed theme--dark primary" style="margin-top:0px;padding-right:0px;padding-left:0px;transform:translateY(0px);"><div class="v-toolbar__content" style="height:56px;"><button type="button" class="v-btn v-btn--icon theme--dark"><div class="v-btn__content"><i class="fa fa-bars"></i></div></button><div class="v-toolbar__title">git常用命令(笔记)</div><div class="spacer"></div><button type="button" class="v-btn v-btn--icon theme--dark"><div class="v-btn__content"><i class="fa fa-search"></i></div></button><div class="v-menu v-menu--inline" style="display:none;"><div class="v-menu__activator"><button type="button" class="v-btn v-btn--icon theme--dark"><div class="v-btn__content"><i class="fa fa-share-alt"></i></div></button></div><div class="v-menu__content" style="max-height:auto;min-width:0px;max-width:auto;top:12px;left:0px;transform-origin:top right;z-index:0;display:none;"><div class="v-list theme--light"><div class="secondary--text"><a class="v-list__tile v-list__tile--link theme--light"><div class="v-list__tile__avatar"><div class="v-avatar" style="height:40px;width:40px;"><i class="fa fa-lg fa-copy"></i></div></div><div class="v-list__tile__title">复制链接</div></a></div></div><input type="text" tabindex="-1" aria-hidden="true" value="" class="fake-hide"></div></div></div></nav><main class="v-content" style="padding-top:56px;padding-right:0px;padding-bottom:0px;padding-left:0px;"><div class="v-content__wrap"><div class="container blog-container grid-list-xl align-center"><div class="layout row wrap"><div class="flex mb-3 xs12"><article class="v-card theme--light elevation-16 post-card" style="height:undefined;"><div class="v-card__title"><div class="flex xs12"><h2 class="display-1 mb-3">git常用命令(笔记)</h2><div class="post-meta"><time datetime="2018-05-16T09:10:11.000Z" class="secondary--text post-time">2018年05月16日</time></div></div></div><div class="v-card__text pt-0 pb-0"><div class="flex xs12"><div class="content custom"><p>常用git命令
</p><ol><li>创建一个版本库<br>
mkdir repository    //创建一个文件夹<br>
git init [name]       //把目录编程git可以管理的仓库,[name]可选</li><li>提交文件到版本库<br>
git add test.txt    //添加文件到版本库,此时还没有提交到git<br>
git commit -m &quot;提交注释&quot;    //告诉Git，把文件提交到仓库</li><li>远程<br>
查看当前git的状态:        git status<br>
查看修改变的内容:        git diff<br>
查看历史记录:                git log<br>
查看修改的headid：       git reflog<br>
查看分支：    git branch [-a|-r]    //-a 所有分支，-r:远程分支<br>
查看远程库信息   :            git remote<br>
查看远程库详细信息:        git remote -v<br>
查看远程仓库：$ git remote -v<br>
添加远程仓库：$ git remote add [name] [url]<br>
克隆远程仓库：git checkout [branchName] origin/[branchName] //如果远程分支有branchName而本地没<br>
git checkout -b [branchName] origin/[branchName] //如果远程分支有本地无，克隆并切换到<br>
删除本地仓库: git branch -d [branch-name]<br>
强制删除本地分支  git branch -D [branch-name]<br>
删除远程仓库：$ git push origin :[branch-name] //删除远程分支<br>
git remote rm [branch-name]<br>
git push origin --delete [branchName]<br>
修改远程仓库：$ git remote set-url --push [name] [newUrl]<br>
拉取远程仓库：$ git pull origin [remoteName]:[localBranchName]<br>
git fetch origin [remoteName]:[localBranchName]    //获取到当前分支<br>
推送远程仓库：$ git push origin [remoteName]:[localBranchName]        //如果有冲突，需要先pull或者fetch远程的<br>
git push origin [remoteName]:[localBranchName] -f    //强推，使用本地覆盖服务器的</li><li>与远程git关联<br>
a、在git上创建一个Repository<br>
b、在本地执行命令：git remote add origin git@github.com:xiexingen/learngit.git    //将本地仓库与远程关联<br>
c、重新关联：git remote set-url origin git://git.coding.net/xxxx/yyyy.git</li><li>从远程下载到本地<br>
git clone [地址] [文件夹名称]    //将远程项目复制到本地之地文件加下</li><li>分支<br>
创建分支：git branch [branch Name]<br>
切换分支：git checkout [branch Name]<br>
创建+切换分支：git checkout -b [branch Name]<br>
合并分支到当前分支：git merge [branch Name]<br>
重命名分支：    git branch -m [new_branchName] [old_branchName]<br>
查看所有分支：git branch -a<br>
从指定分支创建并切换到分支:git checkout -b [local-branchName] [origin/branchName]<br>
删除分支:    git branch [-d|-D] [local-branch] //-d 只能删除已经参与合并的分支,-D:可以删除为合并的分支，然后在git push origin :master 可以删除远程分支<br>
git merge命令用于合并指定分支到当前分支,注意到上面的Fast-forward信息，Git告诉我们，这次合并是“快进模式”，也就是直接把master指向dev的当前提交<br>
git merge dev :分两种情况一种是直接指向，另一种是生成另外一个将两个合并<br>
git merge --no-ff -m'comment' [branch Name]    //合并分支时，加上--no-ff参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并，而fast forward合并就看不出来曾经做过合并<br>
git merge --abort //取消合并</li><li>Bug分支<br>
git stash        //相当于tfs中的搁置<br>
git stash apply    //取消搁置到本地<br>
git stash drp     //删除搁置集<br>
git stash pop        //取消搁置到本地并删除搁置集<br>
git stash list    //查看搁置集<br>
git stash apply stash@{0}    //恢复指定的搁置集</li><li>多人协作<br>
A、git push -u origin [local-branch][:remote-branch]    //吧本地库推送到远程库上，-u，不但回吧本地的分支推送到远程新的master分支，还会把本地分支和远程分支关联起来，在以后的推送或者拉去时就可以简化命名
后面如果有修改的话，只需要执行：git push origin [local-branch]    //吧本地分支的最新修改推送到服务器
B、从本地推送分支，使用git push origin [local_branch]:[remote-branch]，如果推送失败，先用git pull抓取远程的新提交；
在本地创建和远程分支对应的分支，使用git checkout -b branch-name origin/branch-name，本地和远程分支的名称最好一致；
c、建立本地分支和远程分支的关联，使用git branch --set-upstream [local-branch] [origin/remote-branch]
从远程抓取分支，使用git pull，如果有冲突，要先处理冲突。
如果git pull提示“no tracking information”，则说明本地分支和远程分支的链接关系没有创建，用命令git branch --set-upstream branch-name origin/branch-name</li><li>取消、回滚<br>
git -reflog 查看历史版本<br>
git reset --hard HEAD^    //回到上一次改动 (针对历史提交)<br>
git reset -hard 3628164    //3628164 headid 恢复到指定的记录(针对历史提交)<br>
git reset test.js //使用当前历史提交还原工作区<br>
git checkout -- test.js    //使用暂存区覆盖改动</li><li>clean<br>
git clean -n //将当前非暂存区的文件移除<br>
git clean -f //强制移除</li><li>版本(tag)操作相关命令<br>
查看版本：$ git tag<br>
创建版本：$ git tag [name]<br>
删除版本：$ git tag -d [name]<br>
查看远程版本：$ git tag -r<br>
创建远程版本(本地版本push到远程)：$ git push origin [name]<br>
删除远程版本：$ git push origin :refs/tags/[name]<br>
合并远程仓库的tag到本地：$ git pull origin --tags<br>
上传本地tag到远程仓库：$ git push origin --tags<br>
创建带注释的tag：$ git tag -a [name] -m 'yourMessage'</li><li>忽略一些文件、文件夹不提交<br>
在仓库根目录下创建名称为“.gitignore”的文件，写入不需要的文件夹名或文件，每个元素占一行即可，如<br>
target<br>
bin<br>
*.db</li><li>生成密钥</li></ol><ul><li>查看是否已经有了ssh密钥：cd ~/.ssh
<blockquote><p>如果提示：No such file or directory 说明你是第一次使用git<br>
如果不是第一次使用，请执行下面的操作,清理原有ssh密钥。<br>
$ mkdir key_backup $ cp id_rsa* key_backup $ rm id_rsa*<br>
生成新的密钥：<br>
$ ssh-keygen -t rsa -C “1002275364@qq.com”</p></blockquote></li></ul><ol start="14"><li>添加忽略文件<br>
git rm -f --cached [path] 移除单个文件，path表示全路径<br>
git rm -f --cached [path] -r 移除目录，path表示目录</li><li>从暂存区移除文件<br>
git rm --cached [file] //将file从暂存区移除</li><li>tag
git tag -a v1.0 -m 'version 1.0'<br>
git tag 列出已有标签<br>
git tag -l 'v1.0' //列出指定标签<br>
git checkout -b [branchName] [tagname] //在特定的标签上创建一个新分支<br>
git tag v0.9 [626262] //给上次提价的commit id为626262打上标签<br>
git push origin [v1.0] //将标签v1.0push到远程<br>
git push origin --tags //将本地的所有tag push到远程<br>
git push origin :refs/tags/[v1.0] //删除v1.0</li><li>.gitignore文件无效的解决方法<br>
git rm -r --cached [指定文件]<br>
提交</li></ol><h5 id="配置git使用bcompare来比对文件-用户目录-gitconfig里面"><a href="#配置git使用bcompare来比对文件-用户目录-gitconfig里面" aria-hidden="true" class="header-anchor">#</a> 配置git使用BCompare来比对文件(用户目录.gitconfig里面)</h5><pre class="language-bash"><code><span class="token punctuation">[</span>user<span class="token punctuation">]</span>
name <span class="token operator">=</span> xiexingen
email <span class="token operator">=</span> 1002275364@qq.com
<span class="token punctuation">[</span>diff<span class="token punctuation">]</span>
    tool <span class="token operator">=</span> bc4
<span class="token punctuation">[</span>difftool<span class="token punctuation">]</span>
    prompt <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">[</span>difftool <span class="token string">&quot;bc4&quot;</span><span class="token punctuation">]</span>
    cmd <span class="token operator">=</span> \<span class="token string">&quot;D:/Program Files/Beyond Compare 4/BComp.exe\&quot; \&quot;<span class="token variable">$LOCAL</span>\&quot; \&quot;<span class="token variable">$REMOTE</span>\&quot;
[merge]
    tool = bc4
[mergetool]
    prompt = false
    keepBackup = false
[mergetool &quot;</span>bc4&quot;<span class="token punctuation">]</span>
    cmd <span class="token operator">=</span> \&quot;D:/Program Files/Beyond Compare 4/BComp.exe\&quot; \&quot;<span class="token variable">$LOCAL</span>\&quot; \&quot;<span class="token variable">$REMOTE</span>\&quot; \&quot;<span class="token variable">$BASE</span>\&quot; \&quot;<span class="token variable">$MERGED</span>\&quot;
    trustExitCode <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">[</span>alias<span class="token punctuation">]</span>
    dt <span class="token operator">=</span> difftool
    mt <span class="token operator">=</span> mergetool
</code></pre><p>使用：<br>
git difftool '文件1' '文件2'<br>
git mergetool</p><ul><li>全局配置用户名</li></ul><pre class="language-bash"><code><span class="token function">git</span> config --global user.name xiexingen
<span class="token function">git</span> config --global user.email 1002275364@qq.com
<span class="token function">git</span> config --global alias.co checkout  //用co代替checkout
</code></pre><p>日志</p><pre class="language-bash"><code><span class="token function">git</span> log –graph –pretty<span class="token operator">=</span>format:’%Cred%h%Creset -%C<span class="token punctuation">(</span>yellow<span class="token punctuation">)</span>%d%Creset %s %Cgreen<span class="token punctuation">(</span>%cr<span class="token punctuation">)</span> %C<span class="token punctuation">(</span>bold blue<span class="token punctuation">)</span><span class="token operator">&lt;</span>%an<span class="token operator">&gt;</span>%Creset’ –abbrev-commit –date<span class="token operator">=</span>relative **
</code></pre><ul><li><p>https带用户名密码形式迁出代码
git clone http://用户名:密码@gitlab.xxgtalk.cn/WT/StudyNetCore.git</p></li><li><p>github上游合并问题</p></li></ul><pre class="language-js"><code>首先指定上游地址：git remote add upstream <span class="token punctuation">[</span>original repo url<span class="token punctuation">]</span>
拉取上游代码<span class="token punctuation">:</span>git fetch upstream
合并代码<span class="token punctuation">:</span>git rebase upstream<span class="token operator">/</span>master
</code></pre></div></div></div><div class="v-card__actions"><div class="flex xs12"><a href="/tags/工具"><span tabindex="0" class="v-chip capitalize chip-tag v-chip--label v-chip--small theme--light"><span class="v-chip__content">工具</span></span></a></div></div></article></div><div class="flex text-xs-left xs6"><a href="/posts/tools/develop.html" class="post-nav v-btn v-btn--flat v-btn--router theme--light"><div class="v-btn__content"><div class="grey--text"><i class="fa mr-1 fa-chevron-left"></i>上篇</div><div class="title pre-title primary--text hidden-xs-only">开发中能提高工作效率的工具收集</div></div></a></div><div class="flex text-xs-right xs6"><a href="/posts/tools/cer.html" class="post-nav v-btn v-btn--flat v-btn--router theme--light"><div class="v-btn__content"><div class="grey--text">下篇
          <i class="fa ml-1 fa-chevron-right"></i></div><div class="title next-title primary--text hidden-xs-only">Openssl生成免费证书</div></div></a></div></div></div><footer class="v-footer footer blog-footer darken-1 mt-3 primary theme--dark" style="height:auto;"><div class="primary--text text--lighten-4 text-xs-center py-3 card card--flat card--tile primary v-card v-card--flat v-card--tile theme--dark primary" style="height:undefined;"><div class="v-card__text pb-0 card__text">博客内容遵循 <a rel="license noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></div><div class="v-card__text pt-0 mt-1 card__text"><span>谢新根 © 2015 - 2018</span><span><!---->
        Power by
        <a href="https://vuepress.vuejs.org" target="_blank" rel="noopener noreferrer">VuePress</a> Theme
        <a href="https://github.com/yscoder/vuepress-theme-indigo" target="_blank" rel="noopener noreferrer">indigo</a></span></div></div></footer></div></main><button type="button" class="v-btn v-btn--bottom v-btn--floating v-btn--fixed v-btn--right theme--light accent" style="display:none;"><div class="v-btn__content"><i class="fa fa-lg fa-chevron-up"></i></div></button></div></div></div>
    <script src="/assets/js/31.c26ea531.js" defer></script><script src="/assets/js/app.477bb533.js" defer></script>
  </body>
</html>
